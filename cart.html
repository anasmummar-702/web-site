<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart | Royal Collections</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <header class="site-header">
        <div class="header-main container">
            <div class="brand-logo"><a href="index.html"><h1>Royal Collections</h1></a></div>
            <div class="header-icons"><a href="cart.html" class="cart-icon"><i class="fas fa-shopping-bag"></i><span class="cart-count">0</span></a></div>
        </div>
    </header>

    <!-- Simple Cart Banner -->
    <div style="height: 150px; background: url('https://images.unsplash.com/photo-1556742049-0cfed4f7a07d?q=80&w=1600&auto=format&fit=crop') center/cover; position: relative;">
        <div style="position: absolute; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; color: white;">
            <h2 style="font-family: var(--font-heading); font-size: 2rem;">Shopping Bag</h2>
        </div>
    </div>

    <section class="container" style="padding: 60px 20px;">
        <table class="cart-table">
            <thead>
                <tr>
                    <th>Image</th>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Subtotal</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="cart-items-container">
                <!-- Items Injected by JS -->
            </tbody>
        </table>

        <div style="text-align: right; font-size: 1.5rem; margin-top: 20px;">
            <strong>Total: <span id="cart-total">₹0</span></strong>
        </div>
        <div style="text-align: right; margin-top: 20px;">
            <a href="index.html" class="btn btn-outline-dark">Continue Shopping</a>
            <button class="btn btn-primary" onclick="openCheckout()">Proceed to Checkout</button>
        </div>
    </section>

    <!-- CHECKOUT MODAL -->
    <div class="modal-overlay" id="checkout-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeCheckout()">&times;</span>
            <h3 style="margin-bottom:20px; text-align:center; color:var(--primary-blue)">Secure Checkout</h3>
            
            <form id="checkout-form" onsubmit="submitOrder(event)">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="cust-name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" id="cust-email" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Shipping Address</label>
                    <textarea id="cust-address" class="form-control" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label>Payment Method (Placeholder)</label>
                    <select id="payment-method" class="form-control">
                        <option value="Online Payment (Simulated)">Credit/Debit Card</option>
                        <option value="COD">Cash on Delivery</option>
                    </select>
                </div>
                
                <h4 style="text-align:right; margin-bottom:20px;" id="display-total-amount">Total: ₹0</h4>
                
                <button type="submit" class="btn btn-primary" style="width:100%">Place Order</button>
            </form>
        </div>
    </div>

    <footer class="site-footer"><div class="container text-center"><p>&copy; 2025 Royal Collections.</p></div></footer>
    <script src="script.js"></script>
</body>
</html>